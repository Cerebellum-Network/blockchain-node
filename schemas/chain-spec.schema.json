{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Chain Specification Schema",
  "type": "object",
  "required": ["name", "id", "chainType"],
  "properties": {
    "name": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9_\\s-]+$",
      "description": "Human-readable name of the chain"
    },
    "id": {
      "type": "string",
      "pattern": "^[a-z0-9_]+$",
      "description": "Unique identifier for the chain"
    },
    "chainType": {
      "type": "string",
      "enum": ["Development", "Local", "Live"],
      "description": "Type of blockchain network"
    },
    "bootNodes": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^/ip4/.*"
      },
      "description": "List of bootstrap nodes"
    },
    "telemetryEndpoints": {
      "oneOf": [
        { "type": "null" },
        {
          "type": "array",
          "items": {
            "type": "array",
            "minItems": 2,
            "maxItems": 2,
            "items": [
              { 
                "type": "string", 
                "pattern": "^(https?|wss?)://.*",
                "description": "Telemetry endpoint URL"
              },
              { 
                "type": "integer", 
                "minimum": 0,
                "description": "Telemetry verbosity level"
              }
            ],
            "additionalItems": false
          }
        }
      ]
    },
    "protocolId": {
      "oneOf": [
        { "type": "null" },
        {
          "type": "string",
          "pattern": "^[a-z0-9_]+$",
          "description": "Protocol identifier"
        }
      ]
    },
    "properties": {
      "type": "object",
      "required": ["ss58Format", "tokenDecimals", "tokenSymbol"],
      "properties": {
        "ss58Format": {
          "type": "integer",
          "minimum": 0,
          "maximum": 16383
        },
        "tokenDecimals": {
          "type": "integer",
          "minimum": 0,
          "maximum": 18
        },
        "tokenSymbol": {
          "type": "string",
          "pattern": "^[A-Z]{3,6}$"
        }
      }
    },
    "genesis": {
      "type": "object",
      "description": "Genesis configuration in either runtime or raw format",
      "additionalProperties": true
    },
    "forkBlocks": {
      "oneOf": [
        { "type": "null" },
        { "type": "array" }
      ]
    },
    "badBlocks": {
      "oneOf": [
        { "type": "null" },
        { "type": "array" }
      ]
    },
    "consensusEngine": {
      "type": ["string", "null"]
    },
    "lightSyncState": {
      "type": ["object", "null"]
    }
  }
} 

